# Video Scraper Service - Environment Configuration Template
# Copy this file to .env and update with your actual values

# ============================================================================
# API Configuration
# ============================================================================

# API key for authentication - replace with your secure API key
API_KEY=your-secure-api-key-here

# Enable debug mode for development (true/false)
DEBUG_MODE=false

# Service host and port
HOST=0.0.0.0
PORT=8000

# ============================================================================
# External API Keys
# ============================================================================

# OpenAI API key for thumbnail analysis
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here

# ScraperAPI key (optional, for enhanced scraping)
# Get from: https://www.scraperapi.com/
SCRAPERAPI_KEY=your-scraperapi-key-here

# ============================================================================
# Performance & Concurrency
# ============================================================================

# Maximum number of concurrent video extractions
MAX_CONCURRENT_EXTRACTIONS=5

# Maximum requests per minute for rate limiting
MAX_REQUESTS_PER_MINUTE=60

# Maximum URLs allowed per batch request
MAX_URLS_PER_BATCH=3

# ============================================================================
# Caching Configuration
# ============================================================================

# Enable/disable caching system
CACHE_ENABLED=true

# Redis URL for distributed caching (optional)
# If not set, uses in-memory caching
# Examples:
# redis://localhost:6379
# redis://username:password@redis-host:6379/0
# rediss://username:password@redis-host:6379/0 (SSL)
REDIS_URL=

# Default cache TTL in seconds (1 hour = 3600)
DEFAULT_CACHE_TTL=3600

# ============================================================================
# Logging Configuration
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable structured JSON logging for production
JSON_LOGGING=false

# Log file path (optional, logs to console if not set)
LOG_FILE=

# ============================================================================
# yt-dlp Configuration
# ============================================================================

# Timeout for video extraction in seconds
YTDLP_TIMEOUT=30

# Cache directory for yt-dlp (optional)
YTDLP_CACHE_DIR=/tmp/ytdlp_cache

# User agent for requests (optional)
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# ============================================================================
# Security Configuration
# ============================================================================

# CORS allowed origins (comma-separated)
# Use * for development, specific domains for production
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# Enable/disable API key validation
REQUIRE_API_KEY=true

# ============================================================================
# Monitoring & Health Checks
# ============================================================================

# Enable Prometheus metrics endpoint
ENABLE_METRICS=false

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=60

# ============================================================================
# Development Settings
# ============================================================================

# Reload server on code changes (development only)
RELOAD=false

# Enable access logs
ACCESS_LOG=true

# Workers for production deployment (set to number of CPU cores)
WORKERS=1

# ============================================================================
# Example Production Configuration
# ============================================================================
# For production deployment, consider these settings:
# 
# DEBUG_MODE=false
# LOG_LEVEL=WARNING
# JSON_LOGGING=true
# CACHE_ENABLED=true
# REDIS_URL=redis://your-redis-instance:6379/0
# CORS_ORIGINS=https://yourdomain.com
# WORKERS=4
# ENABLE_METRICS=true